# KiteSessiesNL App

## Ontwikkelaar: Daan Huikeshoven (11066628)

## Beschrijving van de app
In deze app kunnen kiters een sessie starten op spots die aanwezig zijn in de app. Daarnaast kunnen ze sessies van andere kiters zien die sessie gestart hebben. Ook kunnen ze een aanvraag doen om hun spot op de kaart te krijgen waarna ze de status van deze aanvraag in de app in de gaten kunnen houden.<br><br>
![](https://github.com/Huikie/Eindproject-minor-prog/blob/master/doc/home.png)

## Technische design
#### Overzicht van activiteiten & API's
![](https://github.com/Huikie/Eindproject-minor-prog/blob/master/doc/report_design.png)
#### Details: modules, request classes, adapters en functies
Modules
- Session module: wordt gebruikt om alle atrributen van een sessie te definiëren. De session module bevat de volgende attributen: name, kite, time, spot, date en exactDate.
- Spot module: wordt gebruikt om alle attributen van een spot te definiëren. De spot module bevat de volgende attributen: name, type, surface, distance, imageId, directionId, lat, lon en status. 'Name' is in de spot module het zelfde als 'spot' in de session module, namelijk de spot naam.
- WeatherInfo module: wordt gebruikt om alle atrributen die horen bij de benodigde weerinformatie te definiëren. De weatherinfo module bevat de volgende attributen: speed, degrees en temperature.<br><br>
Adapters:
- SessionAdapter: wordt gebruikt om de lijst in de SpotDetailsActvitiy met de juiste elementen en in een mooie stijl te weergeven.
- SessionAdapter2: wordt gebruikt om de lijst in de CurrentSessionActivity met de juiste elementen en in een mooie stijl te weergeven.
- SpotAdapter: wordt gebruikt om de lijst in de SpotStatusActivity met de juiste elementen en in een mooie stijl te weergeven.<br><br>
Request classes:
- SessionPostRequest: wordt gebruikt nadat een sessie gestart is in de CreateSessionActivity om de sessie in de database te krijgen.
- SessionRequest: wordt gebruikt om sessies uit de database te krijgen. Wordt gebruikt in de SpotDetailsActivity om de 'Sessies vandaag' lijst te vullen met sessies vandaag op een specifieke spot en in de CurrentSessionActivity om alle sessies die vandaag gaande zijn te weergeven in een lijst.
- SpotPostRequest: wordt gebruikt nadat een spotaanvraag gedaan is in de SpotRequestActivity om de spotaanvraag in de database te krijgen.
- SpotGetRequest: wordt gebruikt om spots uit de database te krijgen. Wordt gebruikt in de MapsActivity om de kaart te voorzien van markers voor de spots die een status = 1 (approved) in de database hebben en in de SpotStatusActivity om een lijst te vullen met alle spots inclusief de spots die nog in behandeling zijn (niet approved).<br><br>
Functies die uitleg behoeven:
- editTextActivator functie (in CreateSessionActivity): deze functie zorgt ervoor dat er net zo veel EditTexts zichtbaar worden voor de gebruikers als de hoeveelheid kites die zij aangegeven hebben mee te willen nemen. Zo kunnen ze voor elke kite die ze mee willen nemen een maat invoeren.
## Uitdagingen gedurende ontwikkeling van de app
- Voordat ik begon met het ontwikkelen van de app heb ik getwijfeld om het mogelijk te maken voor gebruikers om zich te registreren. Na overleg met een assistent (Renske) heb ik besloten om dit niet in mijn app te implementeren. De reden hiervoor is dat de informatie van gebruikers die weergeven wordt in de app niet informatie is die hoort bij een account. Deze informatie verschilt per sessie en een account zou daarom geen toegevoegde waarde hebben. Als ik meer tijd voor het project gehad had, dan had ik de app wellicht iets meer interactief gemaakt. Bijvoorbeeld dat kiters elkaar berichten kunnen sturen als ze zien dat iemand ergens een sessie van plan is, zodat ze op een specifieke plek op een specifieke tijd af kunnen spreken. In dit geval zou registratie van gebruikers wel noodzakelijk zijn.<br><br>
- Getwijfeld om gebruikers zelf spots toe te laten voegen aan de applicatie, maar na overleg met een assistent (Renkse) besloten om dit zelf te beheren. Dus gebruikers kunnen een aanvraag doen en ik kan dan bepalen of de spot in de applicatie komt (via terminal spot activeren in applicatie). Zo wordt voorkomen dat de applicatie een rommeltje wordt. Als ik meer tijd voor het project gehad had, dan had ik wellicht registratie mogelijk gemaakt, zodat ik mezelf ‘admin’ rechten had kunnen geven en dan een pagina te zien kon krijgen waar ik sessies kon ‘approven’ of ‘declinen’.<br><br>
- De windsnelheid krijg ik in m/s terug van de API en de windrichting in graden. Uit eigen ervaring (zelf fanatiek kiter) besloten dat m/s omgerekend moet worden naar knopen en windrichting zowel in graden moet als met een bepaalde lettercombinatie (NW bijvoorbeeld).
- Getwijfeld hoe ik een spotaanvraag het beste kon laten verlopen. Gedacht aan gebruikers zelf een longitude en latitude in te laten vullen voor de locatie waar zij een spot op kaart willen. Of een aparte spotaanvraag pagina waar een kaart van Nederland in staat en waar ze dan zelf een marker kunnen zetten. Door een handige tip van Martijn besloten om een spotaanvraag direct vanuit de MapsActivity te laten starten door een ‘long click’ van de gebruiker. Zo kunnen de gebruikers precies aangeven waar ze de spot op de kaart willen en heb ik in de SpotRequestActivity gelijk de benodigde longitude en latitude.<br><br>
- Nagedacht over hoe het voor gebruikers duidelijk wordt dat ze door middel van een ‘long click’ een spotaanvraag kunnen starten voor een bepaalde locatie. Besloten om een ‘add marker icon’ in de MapActivity te weergeven en wanneer de gebruikers daar op klikken een ‘pop-up window’ te laten zien met informatie over hoe ze een spotaanvraag kunnen doen en waar ze vervolgens de status van hun aanvraag in de gaten kunnen houden.<br><br>
- Op advies van een assistent (Renske) besloten om twee extra activiteiten te maken. Één waarin gebruikers alle sessies kunnen zien die momenteel bezig zijn met de sessie informatie erbij, alfabetisch gesorteerd op spotnaam en op wanneer de sessie gestart is (laatste sessie bovenaan) en één waarin gebruikers alle spots (spots die op de map staan (status = zichtbaar)) en spotaanvragen die gedaan zijn (status = in behandeling)) kunnen zien, alfabetisch gesorteerd op spotnaam. De spot lijst gekozen, omdat gebruikers na een spotaanvraag de status van hun aanvraag in de gaten moeten kunnen houden en niet op alle markers moeten klikken om alle spots op de kaart te kunnen zien. De sessie lijst gekozen, omdat gebruikers alle sessies moeten kunnen zien die vandaag op alle spots op de kaart bezig zijn. Het moet niet zo zijn dat ze elke spot aan moeten klikken om alle sessies te kunnen zien.<br><br>
- Besloten dat het nodig is om userinput op een goede manier te limiteren, zodat de inhoud van de app netjes blijft. Idee is: bij kitemaat bijvoorbeeld de user aan laten geven hoeveel kites hij/zij meeneemt (stel: 2) en op basis daarvan zoveel inputfields geven aan de user (2 inputfields). Om de tijdspanne in een goed formaat van de user te ontvangen is besloten om een 'timepicker' te laten zien aan de gebruiker voor zowel de begin als de eindtijd. De tijdspanne wordt dan ontvangen in het volgende formaat: HH-mm - HH-mm. Bij een spotaanvraag wordt de gebruiker ook om input gevraagd, waaronder spottype en spotondergrond. Hiervoor is besloten een lijstje van strings te maken met mogelijke types en ondergronden waaruit de gebruiker de mogelijkheid kiest om één ondergrond en type te selecteren.<br><br>
- Moeite gehad met het bepalen van een kleurenpatroon voor de app. Uitgevonden dat er sites zijn die ‘juist’ gebruik van kleuren in apps uitleggen en sites die schema’s van kleuren hebben die goed bij elkaar passen: Material.io en colorhunt.co. Uiteindelijk op colorhunt.co een mooi kleurenschema gevonden (https://colorhunt.co/palette/2763) op basis waarvan ik de kleuren in mijn app gekozen heb.<br><br>
- Geleerd dat het afwisselen van de achtergrondkleur van lijst items er voor zorgt dat een lijst mooier weergeven wordt en niet één groot blok wordt.<br><br>
- Besloten om een limiet van 0.5 mb te stellen op de grote van afbeeldingen die gebruikers mogen uploaden bij het doen van een spotaanvraag. De reden hiervoor is dat ik Base64 encoding gebruik en hoe groter de afbeelding des te langzamer het laden van de spots wordt, omdat dan de Base64 string die uit de database gelezen moet worden ook groter is. Als ik meer tijd voor het project gehad had, had ik mogelijk een aparte database gemaakt voor de afbeeldingen van de spots, zodat het laden sneller gaat.<br><br>
- Besloten om een korte vertraging te maken nadat gebruikers een sessie gestart hebben en nadat gebruikers een spotaanvraag gedaan hebben. In deze vertraging laat ik een bericht zien dat de handeling succesvol verricht is op/voor de specifieke spot. Was ook mogelijk geweest om ze terug te sturen naar respectievelijk de SpotDetailsActivity (waar sessies op de spot te zien zijn) en de SpotStatusActivity (waar alle spots te zien zijn ook de aangevraagde), maar door tijdgebrek dit laten zitten.<br><br>
